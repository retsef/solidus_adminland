<% actions = [
    valid_action?(:edit, collection_presenter.resource_name),
    valid_action?(:destroy, collection_presenter.resource_name)
] %>

<% if actions.include?(true) %>
  <td class="cell-action" data-label="Actions">
    <div class="btn-list flex-nowrap" role="group">
    
      <% if valid_action? :edit, collection_presenter.resource_name %>
        <%= link_to(
          t("administrate.actions.edit"),
          [:edit, namespace, resource],
          class: "btn action-edit",
          target: '_top'
          ) if show_action? :edit, resource%>
      <% end %>

      <div class="dropdown">
        <button class="btn dropdown-toggle align-text-top" role="button" 
            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Actions
        </button>
        <div class="dropdown-menu dropdown-menu-end">

          <% if valid_action? :destroy, collection_presenter.resource_name %>
            <%= link_to(
              t("administrate.actions.destroy"),
              [namespace, resource],
              class: "text-danger dropdown-item",
              data: { turbo_method: :delete, turbo_confirm: t("administrate.actions.confirm"), turbo_action: "replace" }
              ) if show_action? :destroy, resource %>
          <% end %>

        </div>
      </div>
    </div>
  </td>
<% end %>