<% if association %>
  <div class="form-group" data-controller='select'>
    <% field_key = model.ransackable_scopes.include?(field) ? field : "#{field}_id_in" %>
    <% desc = association.klass.method_defined?(:dashboard_display_name) ? :dashboard_display_name : :to_s %>
    <% collection = association.klass.all %>

    <%= form.label(label) %>
    <%= form.collection_select(field_key, collection, :id, desc, { include_blank: true }, 'data-select-target': 'input', multiple: true) %>
  </div>
<% end %>
